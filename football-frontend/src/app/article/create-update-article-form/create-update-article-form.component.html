<ng-container *ngIf="!isLoading; else loadingSpinner">
    <app-show-page
        [isForm]="true"
        title="{{ headerTitle }}"
        [onSubmitForm]="submitForm">
        <ng-container content>
            <app-text-input-field
                label="Title"
                [control]="articleForm.controls.title"
                dataTestId="titleInput">
            </app-text-input-field>

            <app-select-field
                label="Editor"
                [control]="articleForm.controls.editor"
                [hasInitialValue]="articleId !== undefined"
                [compareObjects]="compareEditors"
                [data$]="editors$"
                [dataFormToShow]="editorFormToShow"
                dataTestId="editorSelect">
            </app-select-field>

            <app-text-area-field
                label="Article content"
                [control]="articleForm.controls.content"
                [rowsNumber]="articleContentTextAreaRowsNumber"
                dataTestId="articleContentTextArea">
            </app-text-area-field>

            <app-text-input-field
                label="Photo URL"
                [control]="articleForm.controls.photoUrl"
                dataTestId="photoUrlInput">
            </app-text-input-field>

            <app-select-field
                label="Category"
                [control]="articleForm.controls.category"
                [hasInitialValue]="articleId !== undefined"
                [compareObjects]="compareCategories"
                [data$]="categories$"
                [dataFormToShow]="categoryFormToShow"
                dataTestId="categorySelect">
            </app-select-field>
        </ng-container>
        <ng-container actions>
            <button
                mat-stroked-button
                type="submit"
                [disabled]="articleForm.invalid"
                data-testid="articleSaveButton"
                aria-label="Create article">
                {{ submitButtonTitle }}
            </button>
            <button
                mat-stroked-button
                type="button"
                (click)="goBack()"
                aria-label="Go back">
                Go back
            </button>
        </ng-container>
    </app-show-page>
</ng-container>
<ng-template #loadingSpinner> </ng-template>
